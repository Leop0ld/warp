{% extends 'base.html' %}
{% load staticfiles crispy_forms_tags %}
{% block title %}{% block head_title %}Presentation Create - warp{% endblock head_title %}{% endblock title %}

{% block content %}
  <style type="text/css">
    body {
      overflow-y: hidden;
    }
  </style>
  <form id="create_html" action="{{ action_url }}" method="post">
    <div id="small-contents" class="show-for-small-only">
      <div class="callout callout-full text-center">
        <div>
          <h1>Sorry, we don't support this page on mobile devices.</h1>
          <h2>
            <a href="{% url 'presentation:list' %}"><strong>Go to main</strong></a>
          </h2>
        </div>
      </div>
    </div>
    <div id="large-medium-contents" class="hide-for-small-only medium-10 medium-centered large-10 large-centered">
      <div class="row contents-header">
        <div class="small-6 medium-6 large-6 columns">
          <div class="input-group">
            <label for="id_subject" class="input-group-label">Subject</label>
            <input type="text" class="input-group-field" maxlength="50" id="id_subject" name="subject">
          </div>
          <div class="input-group">
            <label for="id_tags" class="input-group-label">Tags</label>
            <input type="text" class="input-group-field" name="tags" id="id_tags">
          </div>
        </div>
      </div>
      <div class="row contents-option">
        <div class="small-6 medium-6 large-6 columns option">
          <div class="switch-wrapper">
            <input type="radio" value="True" class="left-switch" name="is_public" id="{{ form.is_public.auto_id }}" checked/>
            <label for="{{ form.is_public.auto_id }}">Public</label>
            <input type="radio" value="False" class="right-switch" name="is_public" id="right-switch"/><label
            for="right-switch">Private</label>
          </div>
        </div>
        <div class="small-6 medium-6 large-6 columns option2">
          <div class="option-wrapper">
            {% if object.pk %}
              <a class="button medium" href="{% url 'presentation:delete' object.pk %}">Delete!!!</a>
            {% endif %}
            <input class="medium button" type="submit" value="{{ submit_button_text }}">
          </div>
        </div>
      </div>
      <div class="row contents-body">
        <div class="editor-side small-6 medium-6 large-6 columns">
          {% csrf_token %}
          {{ form.markdown }}
          <div id="markdown_editor"></div>
          <a class="usage-toggle-btn"><i class="fa fa-question-circle" aria-hidden="true"></i></a>
        </div>
        <div class="preview-side small-6 medium-6 large-6 columns">
          <div class="preview">
            <div class="callout secondary slide data-slide-0"></div>
          </div>
        </div>
      </div>
    </div>
    {% if object.pk %}
      <input type="text" value="{{ object.pk }}" id="{{ form.pk.auto_id }}">
    {% endif %}
  </form>
{% endblock %}

{% block extra_javascript %}
  <script src="{% static 'vendor/marked/marked.js' %}"></script>
  <script type="text/javascript" src="{% static 'dist/js/create/usage_button.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dist/js/create/preview.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dist/js/resize-slides.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'dist/js/create/index.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'vendor/ace/ace.js' %}"></script>
{% endblock %}
